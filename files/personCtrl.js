angular.controllers.controller("personCtrl",["request","prompt","phoneUtils","$scope","user","$state","$rootScope",function(n,i,o,e,s,t,c){function a(){}function u(){n.jsonp("message/homePage",{_host:appConf.XTDA_HOST,ssk:angular.services.ssk},(function(n){n.data.systemMsg&&(e.syestemCount=n.data.systemMsg.unreadCount)}),(function(n){i.showTip(n.msg)}))}e.user=s.user,e.userType=s.userType,e.isWeiXin=ionic.Platform.isWeiXin(),e.$on("enter.home",(function(){u()})),u(),e.downloadAPP=function(){ionic.Platform.isIOS()?window.open("itms-apps://itunes.apple.com/cn/app/id1455066270"):window.plugins.utilsPlugin.checkAppInstall({wholeWord:!0,packageName:"com.wmzz.tifen"},(function(n){0==n.status?window.plugins.utilsPlugin.startApp({packageName:"com.wmzz.tifen"}):i.alert('<div class="center"><img src="img/mine/tifenQR.png" width="200"></div>',(function(){o.openUrl("http://site.cnweike.cn/dl.php?p=com.wmzz.tifen",!0)}),"下载高考提分APP")}))},e.showInfo=function(){c.isShowInfo?i.showTip("已验证"):i.alert2("为了保障系统信息安全，系统已隐藏部分页面的敏感信息，进行安全验证后可查看用户完整信息。",(function(){t.go("main.confirmPhone",{reset:!0})}),"验证查看完整信息",e,null,!0)},e.loginOut=function(){e.isWeiXin||s.user.info.isUpdatePwd?s.loginOut(a,a):i.confirm("请设置账号登录密码，设置密码后可以使用手机密码登录",(function(){t.go("single.phoneLogin",{type:2})}),"设置密码","退出",(function(){s.loginOut(a,a)}))},e.isIOS=ionic.Platform.isIOS(),e.showDisclaimers=function(){angular.services.loadService("disclaimers",(function(n){n.showDisclaimers({title:"#78c549",disclaimerType:1,button:{ok:"#78c549",cancel:"orange"},scope:e,user:s})}))}}]);